---
slug: /
sidebar_position: 1
---

# Introduction

**[postgresql_cluster](https://github.com/vitabaks/postgresql_cluster)** automates the deployment and management of highly available PostgreSQL clusters in production environments. This solution is tailored for use on dedicated physical servers, virtual machines, and within both on-premises and cloud-based infrastructures.

### Supported setups of Postgres Cluster

import SchemeSwitcher from '@site/src/components/SchemeSwitcher.mdx';

<SchemeSwitcher />

For a detailed description of the cluster components, visit the [Architecture](./overview/architecture.md) page.

## Getting Started

You have the option to easily deploy Postgres clusters using the Console (UI) or from the command line with the ansible-playbook command.

### Console (UI)

#### Run the Console container

To run the PostgreSQL Cluster Console, execute the following command:

```bash
docker run -d --name pg-console \
  --publish 80:80 \
  --publish 8080:8080 \
  --env PG_CONSOLE_API_URL=http://localhost:8080/api/v1 \
  --env PG_CONSOLE_AUTHORIZATION_TOKEN=secret_token \
  --volume console_postgres:/var/lib/postgresql \
  --volume /var/run/docker.sock:/var/run/docker.sock \
  --volume /tmp/ansible:/tmp/ansible \
  --restart=unless-stopped \
  vitabaks/postgresql_cluster_console:2.0.0
```

:::tip
It is recommended to run the console in the same network as your database servers to enable monitoring of the cluster status. In this case, replace `localhost` with your server's IP address in the PG_CONSOLE_API_URL variable.
:::

#### Open the Console UI

Go to http://localhost/ and use `secret_token` for authorization.

![login](/img/pg-console-login.png)
![home](/img/pg-console-home.png)

:::note
- If you have set up the console on a different server, replace 'localhost' with the server's address.
- Use the value of your token if you have redefined it in the PG_CONSOLE_AUTHORIZATION_TOKEN variable.
:::

Refer to the [Deployment](./category/deployment) section to learn more about the different deployment methods.


### Command line

1. [Install Ansible](https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html) on one control node (which could easily be a laptop)

    Example:
    ```shell
    sudo apt update && sudo apt install -y python3-pip sshpass git
    pip3 install ansible
    ```

2. Download the postgresql_cluster repository

    ```shell
    git clone https://github.com/vitabaks/postgresql_cluster.git
    ```

3. Go to the playbook directory

    ```shell
    cd postgresql_cluster/automation
    ```

Refer to the [Deployment](./category/deployment) section to learn more about the different deployment methods.
